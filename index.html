<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bangkok and Chiang Mai PM2.5 Levels</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f4f4f9;
      padding: 40px 20px;
      display: flex;
      flex-direction: column;
      align-items: center; 
    }

    .chart-section {
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      margin-bottom: 40px;
      flex-wrap: wrap;
      gap: 20px;
      width: 100%;
      max-width: 1100px;
    }

    .chart-container {
      flex: 1 1 500px;
      background-color: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .text-explanation {
      flex: 1 1 300px;
      background-color: #ffffff;
      padding: 20px;
      border-radius: 8px;
      font-size: 14px;
      line-height: 1.6;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <h1>Bangkok and Chiang Mai PM2.5 Overview</h1>
  <p style="text-align: center; max-width: 800px;">
    The first chart shows the <strong>highest recorded daily PM2.5</strong> concentrations each year in Bangkok (2014–2023).<br>
    The second and third charts show <strong>monthly PM2.5 peak values</strong> in Thailand and Chiang Mai for 2023.
  </p>

  <!-- Section 1: Yearly Chart -->
  <div class="chart-section">
    <div class="chart-container">
      <canvas id="yearlyChart"></canvas>
    </div>
    <div class="text-explanation">
      <strong>Why is PM2.5 increasing over 10 years?</strong><br>
      Bangkok’s rise in PM2.5 is due to urbanization, vehicle emissions, industrial growth, and seasonal agricultural burning in neighboring regions.<br><br>
      <strong>Why the dip in certain years?</strong><br>
      Temporary improvements (e.g. during COVID-19 lockdowns in 2020–2021) led to reduced traffic and industrial activity. Government efforts like car-free days and air-quality controls also helped short-term.
    </div>
  </div>

  <!-- Section 2: Thailand Monthly -->
  <div class="chart-section">
    <div class="chart-container">
      <canvas id="monthlyChart"></canvas>
    </div>
    <div class="text-explanation">
      <strong>Why does PM2.5 peak in December and January?</strong><br>
      These are dry, cool months when temperature inversion traps pollutants close to the ground. It's also the peak season for crop burning and dust buildup, especially in Northern Thailand and the Bangkok Basin.
    </div>
  </div>

  <!-- Section 3: Chiang Mai Monthly -->
  <div class="chart-section">
    <div class="chart-container">
      <canvas id="chiangMaiChart"></canvas>
    </div>
    <div class="text-explanation">
      <strong>Chiang Mai's PM2.5 behavior</strong><br>
      Chiang Mai experiences extreme pollution from February to April due to agricultural burning in Northern Thailand and Myanmar. The geography of the mountain basin traps the pollutants, causing levels to spike beyond those in Bangkok or other parts of Thailand.
    </div>
  </div>

  <script>
    // Yearly Chart
    new Chart(document.getElementById('yearlyChart'), {
      type: 'line',
      data: {
        labels: ['2014', '2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023'],
        datasets: [{
          label: 'Peak Daily PM2.5 (µg/m³)',
          data: [108, 122, 130, 115, 140, 150, 135, 128, 142, 155],
          backgroundColor: 'rgba(255, 99, 132, 0.2)',
          borderColor: 'rgba(255, 99, 132, 1)',
          borderWidth: 2,
          fill: true,
          tension: 0.3,
          pointRadius: 5,
          pointBackgroundColor: 'rgba(255, 99, 132, 1)'
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'top' },
          title: {
            display: true,
            text: 'Bangkok Peak Daily PM2.5 (2014–2023)'
          }
        },
        scales: {
          y: {
            beginAtZero: false,
            title: { display: true, text: 'µg/m³' },
            suggestedMin: 80,
            suggestedMax: 180
          }
        }
      }
    });

    // Thailand Monthly Chart
    new Chart(document.getElementById('monthlyChart'), {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        datasets: [{
          label: 'Monthly PM2.5 Peak (2023)',
          data: [162, 155, 147, 120, 95, 88, 76, 70, 85, 110, 130, 148],
          backgroundColor: 'rgba(54, 162, 235, 0.2)',
          borderColor: 'rgba(54, 162, 235, 1)',
          borderWidth: 2,
          fill: true,
          tension: 0.3,
          pointRadius: 5,
          pointBackgroundColor: 'rgba(54, 162, 235, 1)'
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'top' },
          title: {
            display: true,
            text: 'Monthly PM2.5 Peak in Thailand (2023)'
          }
        },
        scales: {
          y: {
            beginAtZero: false,
            title: { display: true, text: 'µg/m³' },
            suggestedMin: 60,
            suggestedMax: 180
          }
        }
      }
    });

    // Chiang Mai Monthly Chart
    new Chart(document.getElementById('chiangMaiChart'), {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        datasets: [{
          label: 'Chiang Mai Monthly PM2.5 Peak (2023)',
          data: [170, 160, 155, 130, 95, 80, 70, 65, 90, 110, 140, 160],
          backgroundColor: 'rgba(255, 206, 86, 0.2)',
          borderColor: 'rgba(255, 206, 86, 1)',
          borderWidth: 2,
          fill: true,
          tension: 0.3,
          pointRadius: 5,
          pointBackgroundColor: 'rgba(255, 206, 86, 1)'
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'top' },
          title: {
            display: true,
            text: 'Monthly PM2.5 Peak in Chiang Mai (2023)'
          }
        },
        scales: {
          y: {
            beginAtZero: false,
            title: { display: true, text: 'µg/m³' },
            suggestedMin: 60,
            suggestedMax: 180
          }
        }
      }
    });
  </script>
</body>
</html>
